{"map":{"version":3,"sources":["static/js/main.b76412dd.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","accessToken","react","react_default","n","react_dom","react_dom_default","toConsumableArray","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","components_Track_Track","_React$Component","Object","Track","_super","props","_this","call","addTrack","bind","removeTrack","key","value","isRemoval","a","createElement","className","onClick","onAdd","track","onRemove","name","artist","album","renderAction","Component","components_TrackList_TrackList","TrackList","apply","arguments","tracks","map","id","components_SearchResults_SearchResults","SearchResults","searchResults","components_SearchBar_SearchBar","SearchBar","state","searchTerm","search","handleTermChange","onSearch","e","setState","target","placeholder","onChange","components_Playlist_Playlist","Playlist","changeHandler","playlistName","playlistTracks","onSave","Spotify_Spotify","getAccessToken","expiresIn","urlInBrowser","window","location","href","accessTokenMatch","match","expiresInMatch","setTimeout","history","pushState","console","log","concat","fetch","headers","Authorization","then","response","ok","json","Error","responseJson","items","artists","uri","savePlaylist","playlistURIs","userID","method","Content-Type","body","JSON","stringify","playlistResponse","playlistResponseJson","uris","alert","components_App_App","App","changePlaylistName","isInPlaylistTracks","forEach","trackObj","newObjArray","filter","_this2","trackURIs","resolvedPromise","_this3","Boolean","hostname","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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"},"code":"(this.webpackJsonpjammming=this.webpackJsonpjammming||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){\"use strict\";a.r(t);var n,s=a(0),r=a.n(s),c=a(7),i=a.n(c),o=(a(14),a(8)),l=a(2),h=a(3),u=a(1),m=a(5),p=a(4),d=(a(15),a(16),a(17),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addTrack=n.addTrack.bind(Object(u.a)(n)),n.removeTrack=n.removeTrack.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"renderAction\",value:function(){return this.props.isRemoval?r.a.createElement(\"button\",{className:\"Track-action\",onClick:this.removeTrack},\"-\"):this.props.isRemoval?void 0:r.a.createElement(\"button\",{className:\"Track-action\",onClick:this.addTrack},\"+\")}},{key:\"addTrack\",value:function(){this.props.onAdd(this.props.track)}},{key:\"removeTrack\",value:function(){this.props.onRemove(this.props.track)}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"Track\"},r.a.createElement(\"div\",{className:\"Track-information\"},r.a.createElement(\"h3\",null,this.props.track.name),r.a.createElement(\"p\",null,this.props.track.artist,\" | \",this.props.track.album)),this.renderAction())}}]),a}(r.a.Component)),v=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"TrackList\"},this.props.tracks.map((function(t){return r.a.createElement(d,{track:t,key:t.id,onAdd:e.props.onAdd,onRemove:e.props.onRemove,isRemoval:e.props.isRemoval})})))}}]),a}(r.a.Component),f=(a(18),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"SearchResults\"},r.a.createElement(\"h2\",null,\"Results\"),r.a.createElement(v,{tracks:this.props.searchResults,onAdd:this.props.onAdd,isRemoval:!1}))}}]),a}(r.a.Component)),k=(a(19),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={searchTerm:\"\"},n.search=n.search.bind(Object(u.a)(n)),n.handleTermChange=n.handleTermChange.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"search\",value:function(){this.props.onSearch(this.state.searchTerm)}},{key:\"handleTermChange\",value:function(e){this.setState({searchTerm:e.target.value})}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"SearchBar\"},r.a.createElement(\"input\",{placeholder:\"Enter A Song, Album, or Artist\",onChange:this.handleTermChange}),r.a.createElement(\"button\",{className:\"SearchButton\",onClick:this.search},\" SEARCH\"))}}]),a}(r.a.Component)),y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeHandler=n.changeHandler.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"changeHandler\",value:function(e){this.props.onChange(e.target.value)}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"Playlist\"},r.a.createElement(\"input\",{value:this.props.playlistName,onChange:this.changeHandler}),r.a.createElement(v,{tracks:this.props.playlistTracks,onRemove:this.props.onRemove,isRemoval:!0}),r.a.createElement(\"button\",{className:\"Playlist-save\",onClick:this.props.onSave},\"SAVE TO SPOTIFY\"))}}]),a}(r.a.Component),b={getAccessToken:function(){if(n)return n;var e,t=window.location.href,a=t.match(/access_token=([^&]*)/),s=t.match(/expires_in=([^&]*)/);if(a)return n=a[1],e=s[1],window.setTimeout((function(){return n=\"\"}),1e3*e),window.history.pushState(\"Access Token\",null,\"/\"),console.log(\"Auth token successfully captured!\"),n;window.location=\"https://accounts.spotify.com/authorize?client_id=\".concat(\"6fcae6e681ed465d9b593ad989a8b758\",\"&response_type=token&scope=playlist-modify-public&redirect_uri=\").concat(\"http://localhost:3000\"),console.log(\"Redirecting to Spotify auth screen\")},search:function(e){return fetch(\"https://api.spotify.com/v1/search?type=track&q=\".concat(e),{headers:{Authorization:\"Bearer \".concat(this.getAccessToken())}}).then((function(e){if(e.ok)return console.log(\"Successfully got a response for the track fetching\"),e.json();throw new Error(\"Something has gone wrong while fetching the tracks\")})).then((function(e){return e.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}}))}))},savePlaylist:function(e,t){var a,s=this;if(t&&e)return n||this.getAccessToken(),n,fetch(\"https://api.spotify.com/v1/me\",{headers:{Authorization:\"Bearer \".concat(this.getAccessToken())}}).then((function(e){return e.json()})).then((function(e){a=e.id,console.log(\"Fetched UserID: \".concat(a))})).then((function(){return fetch(\"https://api.spotify.com/v1/users/\".concat(a,\"/playlists\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(s.getAccessToken()),\"Content-Type\":\"application/json\"},body:JSON.stringify({name:e})})})).then((function(e){return e.json()})).then((function(e){fetch(\"https://api.spotify.com/v1/playlists/\".concat(e.id,\"/tracks\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(s.getAccessToken()),\"Content-Type\":\"application/json\"},body:JSON.stringify({uris:t})})}));alert(\"Missing playlist name or playlist is empty.\")}},T=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={searchResults:[],playlistName:\"My new playlist\",playlistTracks:[]},n.addTrack=n.addTrack.bind(Object(u.a)(n)),n.removeTrack=n.removeTrack.bind(Object(u.a)(n)),n.changePlaylistName=n.changePlaylistName.bind(Object(u.a)(n)),n.savePlaylist=n.savePlaylist.bind(Object(u.a)(n)),n.search=n.search.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"addTrack\",value:function(e){var t=!1;this.state.playlistTracks.forEach((function(a){a.id===e.id&&(t=!0)})),t||(this.setState({playlistTracks:[].concat(Object(o.a)(this.state.playlistTracks),[e])}),t=!1)}},{key:\"removeTrack\",value:function(e){var t=this.state.playlistTracks.filter((function(t){return t.id!==e.id}));this.setState({playlistTracks:t})}},{key:\"changePlaylistName\",value:function(e){this.setState({playlistName:e})}},{key:\"savePlaylist\",value:function(){var e=this,t=this.state.playlistTracks.map((function(e){return e.uri}));b.savePlaylist(this.state.playlistName,t).then((function(t){e.setState({playlistName:\"My new Playlist\",playlistTracks:[]})}))}},{key:\"search\",value:function(e){var t=this;e&&b.search(e).then((function(e){t.setState({searchResults:e})}))}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Ja\",r.a.createElement(\"span\",{className:\"highlight\"},\"mmm\"),\"ing\"),r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(k,{onSearch:this.search}),r.a.createElement(\"div\",{className:\"App-playlist\"},r.a.createElement(f,{searchResults:this.state.searchResults,onAdd:this.addTrack}),r.a.createElement(y,{playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks,onRemove:this.removeTrack,onChange:this.changePlaylistName,onSave:this.savePlaylist}))))}}]),a}(r.a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);","extractedComments":[]}