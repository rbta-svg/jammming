{"map":{"version":3,"sources":["static/js/main.83062c8a.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","accessToken","react","react_default","n","react_dom","react_dom_default","toConsumableArray","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","components_Track_Track","_React$Component","Object","Track","_super","props","_this","call","addTrack","bind","removeTrack","key","value","isRemoval","a","createElement","className","onClick","onAdd","track","onRemove","name","artist","album","renderAction","Component","components_TrackList_TrackList","TrackList","apply","arguments","tracks","map","id","components_SearchResults_SearchResults","SearchResults","searchResults","components_SearchBar_SearchBar","SearchBar","state","searchTerm","search","handleTermChange","onSearch","console","log","e","setState","target","stateMatchUrlBar","window","location","href","match","restoredSearchTerm","replace","document","getElementById","placeholder","onChange","components_Playlist_Playlist","Playlist","changeHandler","playlistName","playlistTracks","onSave","clientID","Spotify_Spotify","getAccessToken","expiresIn","urlInBrowser","accessTokenMatch","expiresInMatch","setTimeout","history","pushState","concat","fetch","headers","Authorization","then","response","ok","json","Error","responseJson","items","artists","uri","savePlaylist","playlistURIs","userID","method","Content-Type","body","JSON","stringify","playlistResponse","playlistResponseJson","uris","alert","components_App_App","App","changePlaylistName","isInPlaylistTracks","forEach","trackObj","newObjArray","filter","_this2","trackURIs","resolvedPromise","_this3","Boolean","hostname","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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"},"code":"(this.webpackJsonpjammming=this.webpackJsonpjammming||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){\"use strict\";a.r(t);var n,c=a(0),r=a.n(c),s=a(7),i=a.n(s),o=(a(14),a(8)),l=a(2),h=a(3),u=a(1),p=a(5),m=a(4),d=(a(15),a(16),a(17),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addTrack=n.addTrack.bind(Object(u.a)(n)),n.removeTrack=n.removeTrack.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"renderAction\",value:function(){return this.props.isRemoval?r.a.createElement(\"button\",{className:\"Track-action\",onClick:this.removeTrack},\"-\"):this.props.isRemoval?void 0:r.a.createElement(\"button\",{className:\"Track-action\",onClick:this.addTrack},\"+\")}},{key:\"addTrack\",value:function(){this.props.onAdd(this.props.track)}},{key:\"removeTrack\",value:function(){this.props.onRemove(this.props.track)}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"Track\"},r.a.createElement(\"div\",{className:\"Track-information\"},r.a.createElement(\"h3\",null,this.props.track.name),r.a.createElement(\"p\",null,this.props.track.artist,\" | \",this.props.track.album)),this.renderAction())}}]),a}(r.a.Component)),f=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"TrackList\"},this.props.tracks.map((function(t){return r.a.createElement(d,{track:t,key:t.id,onAdd:e.props.onAdd,onRemove:e.props.onRemove,isRemoval:e.props.isRemoval})})))}}]),a}(r.a.Component),v=(a(18),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"SearchResults\"},r.a.createElement(\"h2\",null,\"Risultati ricerca\"),r.a.createElement(f,{tracks:this.props.searchResults,onAdd:this.props.onAdd,isRemoval:!1}))}}]),a}(r.a.Component)),y=(a(19),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={searchTerm:\"\"},n.search=n.search.bind(Object(u.a)(n)),n.handleTermChange=n.handleTermChange.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"search\",value:function(){this.props.onSearch(this.state.searchTerm),console.log(this.state.searchTerm)}},{key:\"handleTermChange\",value:function(e){this.setState({searchTerm:e.target.value})}},{key:\"componentDidMount\",value:function(){var e=window.location.href.match(/state=([^&]*)/);if(e){var t=e[1].replace(/%20/g,\" \");document.getElementById(\"search\").value=t,this.setState({searchTerm:t}),this.props.onSearch(t)}}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"SearchBar\"},r.a.createElement(\"input\",{id:\"search\",placeholder:\"Inserisci la canzone da cercare\",onChange:this.handleTermChange}),r.a.createElement(\"button\",{className:\"SearchButton\",onClick:this.search},\" CERCA \"))}}]),a}(r.a.Component)),k=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeHandler=n.changeHandler.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"changeHandler\",value:function(e){this.props.onChange(e.target.value)}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"Playlist\"},r.a.createElement(\"input\",{value:this.props.playlistName,onChange:this.changeHandler}),r.a.createElement(f,{tracks:this.props.playlistTracks,onRemove:this.props.onRemove,isRemoval:!0}),r.a.createElement(\"button\",{className:\"Playlist-save\",onClick:this.props.onSave},\"CREA LA PLAYLIST\"))}}]),a}(r.a.Component),b=\"6fcae6e681ed465d9b593ad989a8b758\",T={getAccessToken:function(e){if(n)return n;var t,a=window.location.href,c=a.match(/access_token=([^&]*)/),r=a.match(/expires_in=([^&]*)/);if(c)return n=c[1],t=r[1],window.setTimeout((function(){return n=\"\"}),1e3*t),window.history.pushState(\"Access Token\",null,\"/\"),console.log(\"Auth token successfully captured!\"),n;window.location=e?\"https://accounts.spotify.com/authorize?client_id=\".concat(b,\"&response_type=token&scope=playlist-modify-public&redirect_uri=\").concat(\"http://rob-frocio.surge.sh\",\"&state=\").concat(e):\"https://accounts.spotify.com/authorize?client_id=\".concat(b,\"&response_type=token&scope=playlist-modify-public&redirect_uri=\").concat(\"http://rob-frocio.surge.sh\"),console.log(\"Redirecting to Spotify auth screen\")},search:function(e){return fetch(\"https://api.spotify.com/v1/search?type=track&q=\".concat(e),{headers:{Authorization:\"Bearer \".concat(this.getAccessToken(e))}}).then((function(e){if(e.ok)return console.log(\"Successfully got a response for the track fetching\"),e.json();throw new Error(\"Something has gone wrong while fetching the tracks\")})).then((function(e){return e.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}}))}))},savePlaylist:function(e,t){var a,c=this;if(t&&e)return n||this.getAccessToken(),n,fetch(\"https://api.spotify.com/v1/me\",{headers:{Authorization:\"Bearer \".concat(this.getAccessToken())}}).then((function(e){return e.json()})).then((function(e){a=e.id,console.log(\"Fetched UserID: \".concat(a))})).then((function(){return fetch(\"https://api.spotify.com/v1/users/\".concat(a,\"/playlists\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(c.getAccessToken()),\"Content-Type\":\"application/json\"},body:JSON.stringify({name:e})})})).then((function(e){return e.json()})).then((function(e){fetch(\"https://api.spotify.com/v1/playlists/\".concat(e.id,\"/tracks\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(c.getAccessToken()),\"Content-Type\":\"application/json\"},body:JSON.stringify({uris:t})})}));alert(\"Missing playlist name or playlist is empty.\")}},g=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={searchResults:[],playlistName:\"Nome della tua playlist\",playlistTracks:[]},n.addTrack=n.addTrack.bind(Object(u.a)(n)),n.removeTrack=n.removeTrack.bind(Object(u.a)(n)),n.changePlaylistName=n.changePlaylistName.bind(Object(u.a)(n)),n.savePlaylist=n.savePlaylist.bind(Object(u.a)(n)),n.search=n.search.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:\"addTrack\",value:function(e){var t=!1;this.state.playlistTracks.forEach((function(a){a.id===e.id&&(t=!0)})),t||(this.setState({playlistTracks:[].concat(Object(o.a)(this.state.playlistTracks),[e])}),t=!1)}},{key:\"removeTrack\",value:function(e){var t=this.state.playlistTracks.filter((function(t){return t.id!==e.id}));this.setState({playlistTracks:t})}},{key:\"changePlaylistName\",value:function(e){this.setState({playlistName:e})}},{key:\"savePlaylist\",value:function(){var e=this,t=this.state.playlistTracks.map((function(e){return e.uri}));T.savePlaylist(this.state.playlistName,t).then((function(t){alert(\"Playlist creata, controlla Spotify!\"),e.setState({playlistName:\"My new Playlist\",playlistTracks:[]})}))}},{key:\"search\",value:function(e){var t=this;e&&T.search(e).then((function(e){t.setState({searchResults:e})}))}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Rob \\xe8 proprio\",r.a.createElement(\"span\",{className:\"highlight\"},\" frocio\")),r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(y,{onSearch:this.search}),r.a.createElement(\"div\",{className:\"App-playlist\"},r.a.createElement(v,{searchResults:this.state.searchResults,onAdd:this.addTrack}),r.a.createElement(k,{playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks,onRemove:this.removeTrack,onChange:this.changePlaylistName,onSave:this.savePlaylist}))))}}]),a}(r.a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);","extractedComments":[]}