{"ast":null,"code":"let accessToken;\nlet Spotify = {\n  getAccessToken() {\n    if (accessToken) {\n      return accessToken;\n    } else {\n      if (accessToken) return accessToken;\n      let url = 'https://accounts.spotify.com/authorize?client_id=6fcae6e681ed465d9b593ad989a8b758' + '&redirect_uri=' + encodeURI('http://localhost:3000') + '&response_type=token';\n      window.location = url;\n      let newUrl = window.location.href;\n      accessToken = newUrl.match('/access_token=([^&]*)/');\n      let expiryTime = newUrl.match('/expires_in=([^&]*)/');\n      window.setTimeout(() => accessToken = '', expiryTime * 1000);\n      window.history.pushState('Access Token', null, '/');\n      console.log(accessToken);\n      console.log(expiryTime);\n    }\n  }\n\n};\nexport default Spotify;","map":{"version":3,"sources":["/Users/roberttiu/Progetti/jammming/src/util/Spotify/Spotify.js"],"names":["accessToken","Spotify","getAccessToken","url","encodeURI","window","location","newUrl","href","match","expiryTime","setTimeout","history","pushState","console","log"],"mappings":"AAAA,IAAIA,WAAJ;AAGA,IAAIC,OAAO,GAAG;AACVC,EAAAA,cAAc,GAAG;AACb,QAAGF,WAAH,EAAgB;AACZ,aAAOA,WAAP;AACH,KAFD,MAEO;AACH,UAAGA,WAAH,EAAgB,OAAOA,WAAP;AAChB,UAAIG,GAAG,GAAG,sFAAsF,gBAAtF,GAAyGC,SAAS,CAAC,uBAAD,CAAlH,GAA8I,sBAAxJ;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkBH,GAAlB;AACA,UAAII,MAAM,GAAGF,MAAM,CAACC,QAAP,CAAgBE,IAA7B;AACAR,MAAAA,WAAW,GAAGO,MAAM,CAACE,KAAP,CAAa,wBAAb,CAAd;AACA,UAAIC,UAAU,GAAGH,MAAM,CAACE,KAAP,CAAa,sBAAb,CAAjB;AACAJ,MAAAA,MAAM,CAACM,UAAP,CAAkB,MAAMX,WAAW,GAAG,EAAtC,EAA0CU,UAAU,GAAC,IAArD;AACAL,MAAAA,MAAM,CAACO,OAAP,CAAeC,SAAf,CAAyB,cAAzB,EAAyC,IAAzC,EAA+C,GAA/C;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYf,WAAZ;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYL,UAAZ;AACH;AACJ;;AAhBS,CAAd;AAmBA,eAAeT,OAAf","sourcesContent":["let accessToken;\n\n\nlet Spotify = {\n    getAccessToken() {\n        if(accessToken)Â {\n            return accessToken;\n        } else {\n            if(accessToken) return accessToken;\n            let url = 'https://accounts.spotify.com/authorize?client_id=6fcae6e681ed465d9b593ad989a8b758' + '&redirect_uri=' + encodeURI('http://localhost:3000') + '&response_type=token';\n            window.location = url;\n            let newUrl = window.location.href;\n            accessToken = newUrl.match('/access_token=([^&]*)/');\n            let expiryTime = newUrl.match('/expires_in=([^&]*)/')\n            window.setTimeout(() => accessToken = '', expiryTime*1000);\n            window.history.pushState('Access Token', null, '/');\n            console.log(accessToken)\n            console.log(expiryTime)\n        }\n    }\n}\n\nexport default Spotify;\n\n"]},"metadata":{},"sourceType":"module"}